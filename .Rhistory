rename(ctl.conc.um = conc.um.corr)
saveRDS(object = cline_data_corrected, file = "cache/2023-05-23-cline_data.RDS")
library(tidyverse)
library(ggrepel)
df1 <- read_rds("cache/2023-05-23-cline_data.RDS")
df2 <- read_rds("cache/2023-06-05-cline_data.RDS")
library(tidyverse)
library(ggrepel)
rm(list=ls()) # Clear the environment
library(tidyverse)
library(ggrepel)
df1 <- read_rds("cache/2023-05-23-cline_data.RDS")
df2 <- read_rds("cache/2023-06-05-cline_data.RDS")
View(df1)
View(df2)
clines <- bind_rows(df1, df2)
rm(list = c(df1, df2))
rm(df1, df2)
df1 <- read_rds("cache/2023-05-23-cline_data.RDS")
df2 <- read_rds("cache/2023-06-05-cline_data.RDS")
clines <- bind_rows(df1, df2) |>
mutate(dt = case_when(
sample_set == "CTL" ~ 0,
sample_set == "A" ~ 34,
sample_set == "B" ~ 118
))
rm(df1, df2) # remove excess tibbles
clines |>
ggplot(
aes(x = dt,
y = conc.um,
color = well,
linetype = amendment,
shape = amendment)
) +
geom_point() +
geom_line() +
facet_wrap(vars(depth))
# pull the controls
clines_ctls <- clines |> filter(amendment == "Control")
View(clines_ctls)
df1 <- read_rds("cache/2023-05-23-cline_data.RDS")
df2 <- read_rds("cache/2023-06-05-cline_data.RDS")
# combine the two datasets
clines <- bind_rows(df1, df2) |>
mutate(dt = case_when(
sample_set == "CTL" ~ 0,
sample_set == "B" ~ 118
sample_set == "A" ~ 34,
df1 <- read_rds("cache/2023-05-23-cline_data.RDS")
df2 <- read_rds("cache/2023-06-05-cline_data.RDS")
# combine the two datasets
clines <- bind_rows(df1, df2) |>
mutate(dt = case_when(
sample_set == "CTL" ~ 0,
sample_set == "B" ~ 118,
sample_set == "A" ~ 34,
))
# pull the controls
clines_ctls <- clines |> filter(amendment == "Control") |>
rename(CTL.conc.um = conc.um)
rm(df1, df2) # remove excess tibbles
# pull the controls
clines_ctls <- clines |> filter(amendment == "Control") |>
rename(CTL.conc.um = conc.um)
# pull the controls
clines_ctls <- clines |> filter(amendment == "Control") |>
rename(CTL.conc.um = conc.um) |>
select(CTL.conc.um, well, depth)
View(clines_ctls)
# pull the controls
clines_ctls <- clines |> filter(amendment == "Control") |>
rename(CTL.conc.um = conc.um) |>
select(CTL.conc.um, sd.conc.um, well, depth)
clines <- left_join(clines_ctls)
clines <- left_join(clines_ctls, by = c("well", "depth"))
clines_wctls <- clines |> left_join(clines_ctls, by = c("well", "depth"))
View(clines_wctls)
# pull the controls
clines_ctls <- clines |> filter(amendment == "Control") |>
rename(CTL.conc.um = conc.um) |>
select(CTL.conc.um, sd.conc.um, well, depth) |>
crossing(c("Acetate", "Formate", "Bicarbonate"))
View(clines_ctls)
# pull the controls
clines_ctls <- clines |> filter(amendment == "Control") |>
rename(CTL.conc.um = conc.um) |>
select(CTL.conc.um, sd.conc.um, well, depth) |>
crossing(amendment = c("Acetate", "Formate", "Bicarbonate"))
clines_wctls <- clines |>
left_join(clines_ctls, by = c("well", "depth", "amendment"))
View(clines_wctls)
# pull the controls
clines_ctls <- clines |> filter(amendment == "Control") |>
rename(CTL.conc.um = conc.um) |>
select(CTL.conc.um, sd.conc.um, well, depth) |>
crossing(amendment = c("Acetate", "Formate", "Bicarbonate")) |>
mutate(sample_set = "CTL",
dt = 0)
clines_wctls <- clines |>
filter(amendment != "Control") |>
bind_rows(clines_ctls)
clines |>
ggplot(
aes(x = dt,
y = conc.um,
color = well,
linetype = amendment,
shape = amendment)
) +
geom_point() +
geom_line() +
facet_wrap(vars(depth))
clines_wctls |>
ggplot(
aes(x = dt,
y = conc.um,
color = well,
linetype = amendment,
shape = amendment)
) +
geom_point() +
geom_line() +
facet_wrap(vars(depth))
View(clines_wctls)
# pull the controls
clines_ctls <- clines |> filter(amendment == "Control") |>
#rename(CTL.conc.um = conc.um) |>
select(CTL.conc.um, sd.conc.um, well, depth) |>
crossing(amendment = c("Acetate", "Formate", "Bicarbonate")) |>
mutate(sample_set = "CTL",
dt = 0)
# pull the controls
clines_ctls <- clines |> filter(amendment == "Control") |>
#rename(CTL.conc.um = conc.um) |>
select(conc.um, sd.conc.um, well, depth) |>
crossing(amendment = c("Acetate", "Formate", "Bicarbonate")) |>
mutate(sample_set = "CTL",
dt = 0)
clines_wctls <- clines |>
filter(amendment != "Control") |>
bind_rows(clines_ctls)
clines_wctls |>
ggplot(
aes(x = dt,
y = conc.um,
color = well,
linetype = amendment,
shape = amendment)
) +
geom_point() +
geom_line() +
facet_wrap(vars(depth))
clines_wctls |>
ggplot(
aes(x = dt,
y = conc.um,
color = well,
linetype = amendment,
shape = amendment)
) +
geom_point() +
geom_line() +
geom_errorbar(aes(
ymin = conc.um - sd.conc.um,
ymax = conc.um + sd.conc.um
)) +
facet_wrap(vars(depth))
clines_wctls |>
ggplot(
aes(x = dt,
y = conc.um,
color = well,
linetype = amendment,
shape = amendment)
) +
geom_point() +
geom_line() +
geom_errorbar(aes(
ymin = conc.um - sd.conc.um,
ymax = conc.um + sd.conc.um
),
width = 0.5
) +
facet_wrap(vars(depth))
clines_wctls |>
ggplot(
aes(x = dt,
y = conc.um,
color = well,
linetype = amendment,
shape = amendment)
) +
geom_point() +
geom_line() +
geom_errorbar(aes(
ymin = conc.um - sd.conc.um,
ymax = conc.um + sd.conc.um
),
width = 1
) +
facet_wrap(vars(depth))
clines_wctls |>
ggplot(
aes(x = dt,
y = conc.um,
color = well,
linetype = amendment,
shape = amendment)
) +
geom_point() +
geom_line() +
geom_errorbar(aes(
ymin = conc.um - sd.conc.um,
ymax = conc.um + sd.conc.um
),
width = 10
) +
facet_wrap(vars(depth))
clines_wctls |>
ggplot(
aes(x = dt,
y = conc.um,
color = well,
linetype = amendment,
shape = amendment)
) +
geom_point() +
geom_line() +
geom_errorbar(aes(
ymin = conc.um - sd.conc.um,
ymax = conc.um + sd.conc.um
),
width = 3,
linetype = "solid"
) +
facet_wrap(vars(depth))
clines_wctls |>
ggplot(
aes(x = dt,
y = conc.um,
color = well,
linetype = amendment,
shape = amendment)
) +
geom_point() +
geom_line() +
geom_errorbar(aes(
ymin = conc.um - sd.conc.um,
ymax = conc.um + sd.conc.um
),
width = 3,
linetype = "solid"
) +
facet_wrap(vars(depth)) +
theme_bw()
clines_wctls |>
ggplot(
aes(x = dt,
y = conc.um,
color = well,
linetype = amendment,
shape = amendment)
) +
geom_point() +
geom_line() +
geom_errorbar(aes(
ymin = conc.um - sd.conc.um,
ymax = conc.um + sd.conc.um
),
width = 3,
linetype = "solid"
) +
facet_wrap(vars(depth)) +
scale_y_log10() +
theme_bw()
clines_wctls |>
ggplot(
aes(x = dt,
y = conc.um,
color = well,
linetype = amendment,
shape = amendment)
) +
geom_point() +
geom_line() +
geom_errorbar(aes(
ymin = conc.um - sd.conc.um,
ymax = conc.um + sd.conc.um
),
width = 3,
linetype = "solid"
) +
facet_wrap(vars(depth)) +
theme_bw()
clines_wctls |>
ggplot(
aes(x = dt,
y = conc.um,
color = well,
linetype = amendment,
shape = amendment)
) +
geom_point() +
geom_line() +
geom_errorbar(aes(
ymin = conc.um - sd.conc.um,
ymax = conc.um + sd.conc.um
),
width = 3,
linetype = "solid"
) +
facet_wrap(vars(depth), ncol = 1) +
theme_bw()
clines_wctls |>
mutate(depth.str = paste(depth, "m")) +
ggplot(
aes(x = dt,
y = conc.um,
color = well,
linetype = amendment,
shape = amendment)
) +
geom_point() +
geom_line() +
geom_errorbar(aes(
ymin = conc.um - sd.conc.um,
ymax = conc.um + sd.conc.um
),
width = 3,
linetype = "solid"
) +
facet_wrap(vars(depth.str), ncol = 1) +
theme_bw() +
labs(
x = "Incubation Time (Days)",
y = "Total Sulfide (µM)"
)
clines_wctls |>
mutate(depth.str = paste(depth, "m")) |>
ggplot(
aes(x = dt,
y = conc.um,
color = well,
linetype = amendment,
shape = amendment)
) +
geom_point() +
geom_line() +
geom_errorbar(aes(
ymin = conc.um - sd.conc.um,
ymax = conc.um + sd.conc.um
),
width = 3,
linetype = "solid"
) +
facet_wrap(vars(depth.str), ncol = 1) +
theme_bw() +
labs(
x = "Incubation Time (Days)",
y = "Total Sulfide (µM)"
)
clines_wctls |>
mutate(depth.str = paste(depth, "m")) |>
utate(depth.str = fct_reorder(.f = amendment, .x = depth)) |>
ggplot(
aes(x = dt,
y = conc.um,
color = well,
linetype = amendment,
shape = amendment)
) +
geom_point() +
geom_line() +
geom_errorbar(aes(
ymin = conc.um - sd.conc.um,
ymax = conc.um + sd.conc.um
),
width = 3,
linetype = "solid"
) +
facet_wrap(vars(depth.str), ncol = 1) +
theme_bw() +
labs(
x = "Incubation Time (Days)",
y = "Total Sulfide (µM)"
)
clines_wctls |>
mutate(depth.str = paste(depth, "m")) |>
utate(depth.str = fct_reorder(.f = amendment, .x = depth)) |>
ggplot(
aes(x = dt,
y = conc.um,
color = well,
linetype = amendment,
shape = amendment)
) +
geom_point() +
geom_line() +
geom_errorbar(aes(
ymin = conc.um - sd.conc.um,
ymax = conc.um + sd.conc.um
),
width = 3,
linetype = "solid"
) +
facet_wrap(vars(depth.str), ncol = 1) +
theme_bw() +
labs(
x = "Incubation Time (Days)",
y = "Total Sulfide (µM)"
)
clines_wctls |>
mutate(depth.str = paste(depth, "m")) |>
mutate(depth.str = fct_reorder(.f = amendment, .x = depth)) |>
ggplot(
aes(x = dt,
y = conc.um,
color = well,
linetype = amendment,
shape = amendment)
) +
geom_point() +
geom_line() +
geom_errorbar(aes(
ymin = conc.um - sd.conc.um,
ymax = conc.um + sd.conc.um
),
width = 3,
linetype = "solid"
) +
facet_wrap(vars(depth.str), ncol = 1) +
theme_bw() +
labs(
x = "Incubation Time (Days)",
y = "Total Sulfide (µM)"
)
clines_wctls |>
mutate(depth.str = paste(depth, "m")) |>
mutate(depth.str = fct_reorder(.f = depth.str, .x = depth)) |>
ggplot(
aes(x = dt,
y = conc.um,
color = well,
linetype = amendment,
shape = amendment)
) +
geom_point() +
geom_line() +
geom_errorbar(aes(
ymin = conc.um - sd.conc.um,
ymax = conc.um + sd.conc.um
),
width = 3,
linetype = "solid"
) +
facet_wrap(vars(depth.str), ncol = 1) +
theme_bw() +
labs(
x = "Incubation Time (Days)",
y = "Total Sulfide (µM)"
)
clines_wctls |>
mutate(depth.str = paste(depth, "m")) |>
mutate(depth.str = fct_reorder(.f = depth.str, .x = depth)) |>
ggplot(
aes(x = dt,
y = conc.um,
color = well,
linetype = amendment,
shape = amendment)
) +
geom_point() +
geom_line() +
geom_errorbar(aes(
ymin = conc.um - sd.conc.um,
ymax = conc.um + sd.conc.um
),
width = 3,
linetype = "solid"
) +
facet_wrap(vars(depth.str), ncol = 1, scales = "free_y") +
theme_bw() +
labs(
x = "Incubation Time (Days)",
y = "Total Sulfide (µM)"
)
clines_wctls |>
mutate(depth.str = paste(depth, "m")) |>
mutate(depth.str = fct_reorder(.f = depth.str, .x = depth)) |>
ggplot(
aes(x = dt,
y = conc.um,
color = well,
linetype = amendment,
shape = amendment)
) +
geom_point() +
geom_line() +
geom_errorbar(aes(
ymin = conc.um - sd.conc.um,
ymax = conc.um + sd.conc.um
),
width = 3,
linetype = "solid"
) +
facet_wrap(vars(depth.str), ncol = 1) +
theme_bw() +
labs(
x = "Incubation Time (Days)",
y = "Total Sulfide (µM)"
)
